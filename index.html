<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KNN Classification on Webcam Images with mobileNet. Built with p5.js</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>
    <script src="https://unpkg.com/ml5@0.2.3/dist/ml5.min.js" type="text/javascript"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./style.css">
    <style></style>

</head>

<body>
    <div class="col-xs-12 text-center">

        <h2>Screen Time Timer using PoseNet</h2>
        <div id="videoContainer"></div>
        <!-- <p id="festatus">Loading FE Model...</p> -->
        <!-- <p id="posestatus">Loading Pose Model...</p> -->
        <p id="facestatus"></p>

        <label class="form-switch">
    <input type="checkbox" checked id="redDots"> 
    <i></i>
    Show Pose Dots
  </label>

        <label class="form-switch">
    <input type="checkbox" checked id="video"> 
    <i></i>
    Show Video
  </label>

        <div>
            <label>
                    <input type="range" min="0" max="99" value="50" class="sliderLong" id="detSensitivity">
                    <i></i>
                    Slide right to decrease face detection sensitivity
            </label>
        </div>
        <div>
            <label>
            <input type="range" min="1" max="50" value="30" class="sliderLong" id="distSensitivity">
            <i></i> Slide right to make webcam only detect nearer faces
            </label>
        </div>
        <!-- Add in sliders to toggle sensitivity
    <div>
        <button id="load">Load Dataset</button><br />
        <p>Try to make Focused and Distracted expressions to see if the classifier can class them.<br /> If this sample dataset doesn't work well for you, you will need to train your own classifier by tagging whether you are focused or distracted with ~30
            images each.<br /> This should not take more than a minute. Save your model with a unique filename so you can subsequently load again in future. Once you hit 'start predicting', a cumulative count of your time in each state will be shown.
        </p>
    </div>
    <br />
    <p>
        <button id="addClassFocused">Add an Example to Class Focused</button>
        <button id="resetFocused">Reset Class Focused</button>
    </p>
    <p><span id="exampleFocused">0</span> Focused examples</p>
    <p>| Confidence in Focused is: <span id="confidenceFocused">0</span></p>

    <br /><button id="addClassDistracted">Add an Example to Class Distracted</button>
    <button id="resetDistracted">Reset Class Distracted</button>
    <p><span id="exampleDistracted">0</span> Distracted examples</p>
    <p>| Confidence in Distracted is: <span id="confidenceDistracted">0</span></p>

    <br />
    <p>
        <button id="buttonPredict">Start predicting!</button><br />
        <button id="buttonPause">Pause predicting!</button><br />
        <button id="clearAll">Clear all classes</button><br />
    </p>
    <p>
        Your state is <span id="result">...</span> with a confidence of <span id="confidence">...</span>
    </p>
    <div><button id="save">Save Dataset</button></div>

    <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" style="width:40%" id="progressBarFocused">
            Focused
        </div>
        <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%" id="progressBarDistracted">
            Distracted
        </div>
        <div class="progress-bar progress-bar-info" role="progressbar" style="width:10%" id="progressBarAFK">
            AFK
        </div>
    </div> -->

        <div id="timerContainer">
            <div class="timer" onclick="startTimer()">Start Timer!</div>
            <!-- <div class="startTimer reset" onclick="startTimer()">
            <i class="fas fa-play"></i>
        </div>
        <div class="pauseTimer reset" onclick="pauseTimer()">
            <i class="fas fa-pause"></i>
        </div> -->
            <div class="resetTimer reset" onclick="resetTimer()">Reset</div>
        </div>

    </div>

    <script type="module" src="stopWatch.js"></script>
    <script src="sketch.js"></script>

</body>

</html>